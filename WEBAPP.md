# Webアプリ で Webページ をデプロイするときの権限問題
- 組織内で公開する場合は大きな問題はない
- 組織外に公開し、さらにアクセス制限をかけたい場合に問題が起きる

# Session.getActiveUser().getEmail() は取得するための条件がある
デプロイ設定を以下のようにする必要がある。このような設定にするため、アドレスは難読ではあるが全世界公開になる。

#### ウェブアプリ
- 次のユーザーとして実行
  - ウェブアプリケーションにアクセスしているユーザー
- アクセスできるユーザー
  - Google アカウントを持つ全員

# ログイン的処理
- 上記の全世界公開のアドレスにアクセスすると、初回には「アプリを信頼するか」フォームが現れる
  - ユーザーには信頼してもらうことになる
  - 信頼してもらうことにより、メールアドレスが取得できる
  - メールアドレスが取得できることにより doGet() 内でアクセス制限が可能になる

# doGet() 内の console.log を見る方法
- メニューの「実行数」の詳細画面で見ることができる

# URLは固定
- SPA で擬似的に多ページは可能
  - ただし aタグ に示されるリンクに直接アクセスしても Not Found になる
- `/exec` のみアクセスを受け付ける
